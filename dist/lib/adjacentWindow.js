Array.prototype.indexOf||(Array.prototype.indexOf=function(r,t){var n;if(null==this)throw new Error('Array.indexOf: "this" is null or not defined');var e=Object(this),i=e.length>>>0;if(0===i)return-1;var u=null!=t?t:0;if(Math.abs(u)===Infinity&&(u=0),u>=i)return-1;for(n=Math.max(u>=0?u:i-Math.abs(u),0);n<i;){if(n in e&&e[n]===r)return n;n++}return-1});var validArgs=function(){for(var r=[],t=PPx.Arguments;!t.atEnd();t.moveNext())r.push(t.value);return r},safeArgs=function(){for(var r=[],t=validArgs(),n=0,e=arguments.length;n<e;n++)r.push(_valueConverter(n<0||arguments.length<=n?undefined:arguments[n],t[n]));return r},_valueConverter=function(r,t){if(null==t||""===t)return null!=r?r:undefined;switch(typeof r){case"number":var n=Number(t);return isNaN(n)?r:n;case"boolean":return null!=t&&"false"!==t&&"0"!==t;default:return t}},isZero=function(r){return null!=r&&("0"===r||0===r)},windowID=function(){var r=PPx.Extract("%n"),t=r.replace(/^([CVB])([^_]+)$/,"$1_$2");return{id:r,uid:t}},main=function(){var r=safeArgs(!1,!1,!1,!1,!1,!1,!1),t=r[0],n=r[1],e=r[2],i=r[3],u=r[4],a=r[5],f=r[6],x=getIDs();if(e&&!a){var P=PPx.Extract('%*extract(C,"%%*js(""PPx.result=PPx.SyncView;"")")');if(!isZero(P))return void PPx.Execute("*selectppx "+x.pairid)}var o=getList(t,u,a,f),c=o[o.indexOf(x.id)+1]||o[0];if(1!==PPx.Pane.Count||u||!n||x.id!==c){if(!u&&i)"1"===PPx.Extract("%*getcust(X_combos)").slice(18,19)&&(c=tabID(o,x.id,c));PPx.Execute("*selectppx "+c)}else PPx.Execute('%K"@TAB"')},getIDs=function(){PPx.WindowIDName="1";var r=windowID(),t=r.id,n=r.uid.split("_");return{id:t,pairid:0===n[0].indexOf("C")?"V":"C",subid:n[1]}},getList=function(r,t,n,e){var i=(""+(t?"":PPx.Extract("%*ppxlist(-C)"))+(n?"":PPx.Extract("%*ppxlist(-V)"))+(e?"":PPx.Extract("%*ppxlist(-B)"))).slice(0,-1).replace(/_/g,"").split(","),u=r?[1,-1]:[-1,1];return i.sort((function(r,t){return r<t?u[0]:u[1]})),i},tabExtract=function(r){for(var t,n=[],pane=function(r){return PPx.Pane.Item(r).Tab},e=pane(-1).IDName,i=pane(r),u=0,a=i.length;u<a;u++)(t=i(u).IDName)!==e&&n.push(t);return n},tabID=function(r,t,n){var e,i=tabExtract(-2);if(PPx.Pane.Count>0&&~i.indexOf(n))return 1===PPx.Pane.Count?n:PPx.Extract("%~n");i=tabExtract(-3);for(var u=r.indexOf(t)+1,a=r.length;u<a;u++){e=r[u];for(var f=0,x=i.length;f<x;f++)if(i[f]!==e)return e}return n};main();
