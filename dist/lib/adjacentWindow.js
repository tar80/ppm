Array.prototype.indexOf||(Array.prototype.indexOf=function(r,n){var t;if(null==this)throw new Error('Array.indexOf: "this" is null or not defined');var e=Object(this),i=e.length>>>0;if(0===i)return-1;var u=null!=n?n:0;if(Math.abs(u)===Infinity&&(u=0),u>=i)return-1;for(t=Math.max(u>=0?u:i-Math.abs(u),0);t<i;){if(t in e&&e[t]===r)return t;t++}return-1});var validArgs=function(){for(var r=[],n=PPx.Arguments;!n.atEnd();n.moveNext())r.push(n.value);return r},safeArgs=function(){for(var r=[],n=validArgs(),t=0,e=arguments.length;t<e;t++)r.push(_valueConverter(t<0||arguments.length<=t?undefined:arguments[t],n[t]));return r},_valueConverter=function(r,n){if(null==n||""===n)return null!=r?r:undefined;switch(typeof r){case"number":var t=Number(n);return Number.isNaN(t)?r:t;case"boolean":return null!=n&&"false"!==n&&"0"!==n;default:return n}},isZero=function(r){return null!=r&&("0"===r||0===r)},windowID=function(){var r=PPx.Extract("%n"),n=r.replace(/^([CVB])([^_]+)$/,"$1_$2");return{id:r,uid:n}},main=function(){var r=safeArgs(!1,!1,!1,!1,!1,!1,!1),n=r[0],t=r[1],e=r[2],i=r[3],u=r[4],a=r[5],f=r[6],x=getIDs();if(e&&!a){var c=PPx.Extract('%*extract(C,"%%*js(""PPx.result=PPx.SyncView;"")")');if(!isZero(c))return void PPx.Execute("*selectppx "+x.pairid)}var o=getList(n,u,a,f),P=o[o.indexOf(x.id)+1]||o[0];if(1!==PPx.Pane.Count||u||!t||x.id!==P){if(!u&&i)"1"===PPx.Extract("%*getcust(X_combos)").slice(18,19)&&(P=tabID(o,x.id,P));PPx.Execute("*selectppx "+P)}else PPx.Execute('%K"@TAB"')},getIDs=function(){PPx.WindowIDName="1";var r=windowID(),n=r.id,t=r.uid.split("_");return{id:n,pairid:0===t[0].indexOf("C")?"V":"C",subid:t[1]}},getList=function(r,n,t,e){var i=(""+(n?"":PPx.Extract("%*ppxlist(-C)"))+(t?"":PPx.Extract("%*ppxlist(-V)"))+(e?"":PPx.Extract("%*ppxlist(-B)"))).slice(0,-1).replace(/_/g,"").split(","),u=r?[1,-1]:[-1,1];return i.sort((function(r,n){return r<n?u[0]:u[1]})),i},tabExtract=function(r){for(var n,t=[],pane=function(r){return PPx.Pane.Item(r).Tab},e=pane(-1).IDName,i=0,u=pane(r).length;i<u;i++)(n=pane(i).IDName)!==e&&t.push(n);return t},tabID=function(r,n,t){var e,i=tabExtract(-2);if(PPx.Pane.Count>0&&~i.indexOf(t))return PPx.Extract("%~n");i=tabExtract(-3);for(var u=r.indexOf(n)+1,a=r.length;u<a;u++)if(e=r[u],!~i.findIndex((function(r){return r===e})))return e;return t};main();
