var validArgs=function(){for(var e=[],t=PPx.Arguments;!t.atEnd();t.moveNext())e.push(t.value);return e},safeArgs=function(){for(var e=[],t=validArgs(),n=0,u=arguments.length;n<u;n++)e.push(_valueConverter(n<0||arguments.length<=n?undefined:arguments[n],t[n]));return e},_valueConverter=function(e,t){if(null==t||""===t)return null!=e?e:undefined;switch(typeof e){case"number":var n=Number(t);return isNaN(n)?e:n;case"boolean":return"false"!==t&&"0"!==t&&null!=t;default:return t}},e={tempKey:"K_ppmTemp",tempMenu:"M_ppmTemp",lfDset:"ppmlfdset"},isEmptyStr=function(e){return""===e},t=8e4,n="ppm_lfsyncview",u={ppvid:"",close:!1,debug:!1},main=function(){var c=safeArgs("@\\Y",0,0,"0"),p=c[0],r=c[1],i=c[2],x=c[3],P=PPx.Extract("%*extract(%%su'"+e.lfDset+"%n')");isEmptyStr(P)?PPx.Execute('%K"'+p+'"'):(u.close=1===i,u.debug="DEBUG"===x,u.debug&&debugMsg("start"),startPPv(r),PPx.StayMode=t,ppx_Syncview(),PPx.Execute("*linecust "+n+',KC_main:SELECTEVENT,*if ("%n"=="%%n")%%:*script ":'+t+',ppx_Syncview"'))},ppx_Syncview=function(){PPx.Execute("*execute "+u.ppvid+',%%J"%*name(DC,"%*comment")"'),isEmptyStr(PPx.Extract("%N"+u.ppvid))&&ppx_resume()},ppx_resume=function(){PPx.StayMode=0,PPx.SyncView=0,PPx.Execute("*linecust "+n+",KC_main:SELECTEVENT,"),u.close&&PPx.Execute("*closeppx "+u.ppvid),u.debug&&debugMsg("discard")},startPPv=function(e){var t=1===e?"-popup:%~N":"";PPx.Execute("%Oa *ppv "+t),PPx.Sleep(100),u.ppvid=PPx.Extract('%*extract(V,"%%n")'),2===e&&PPx.Execute("*capturewindow "+u.ppvid+" -pane:~ -selectnoactive")},debugMsg=function(e){return PPx.linemessage("[DEBUG] lfSyncView "+e)};main();
