var validArgs=function(){for(var e=[],r=PPx.Arguments;!r.atEnd();r.moveNext())e.push(r.value);return e},safeArgs=function(){for(var e=[],r=validArgs(),t=0,n=arguments.length;t<n;t++)e.push(_valueConverter(t<0||arguments.length<=t?undefined:arguments[t],r[t]));return e},_valueConverter=function(e,r){if(null==r||""===r)return null!=e?e:undefined;switch(typeof e){case"number":var t=Number(r);return Number.isNaN(t)?e:t;case"boolean":return null!=r&&"false"!==r&&"0"!==r;default:return r}};0!==PPx.Extract("%n").indexOf("B")&&PPx.Quit(-1);var e={dot:{interval:80,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]},star:{interval:80,frames:["✶","✸","✹","✺","✹","✷"]},box:{interval:100,frames:["▌","▀","▐","▄"]},toggle:{interval:500,frames:["⊶","⊷"]}},main=function(){for(var r,t=safeArgs("CA","dot","stop"),n=t[0],a=t[1],u=t[2],l=null!=(r=e[a])?r:"dot",f=l.frames.length,i=0;;){if(showSpinner(n,l.frames[i]),PPx.Sleep(l.interval),""!==PPx.Extract("%*extract("+n+",\"%%si'"+u+"'\")")){PPx.Execute("*execute "+n+",*string i,"+u+"="),showSpinner(n," ");break}i=i<f-1?i+1:0}},showSpinner=function(e,r){return PPx.Execute("*execute "+e+',*linemessage !"'+r)};main();
