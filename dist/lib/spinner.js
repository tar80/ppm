var e,validArgs=function(){for(var e=[],t=PPx.Arguments;!t.atEnd();t.moveNext())e.push(t.value);return e},safeArgs=function(){for(var e=[],t=validArgs(),r=0,n=arguments.length;r<n;r++)e.push(_valueConverter(r<0||arguments.length<=r?undefined:arguments[r],t[r]));return e},_valueConverter=function(e,t){if(null==t||""===t)return null!=e?e:undefined;switch(typeof e){case"number":var r=Number(t);return isNaN(r)?e:r;case"boolean":return null!=t&&"false"!==t&&"0"!==t;default:return t}};0!==PPx.Extract("%n").indexOf("B")&&PPx.Quit(-1);var t=["dot","star","box","toggle"],r=((e={})[t[0]]={interval:100,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]},e[t[1]]={interval:100,frames:["✶","✸","✹","✺","✹","✷"]},e[t[2]]={interval:120,frames:["▌","▀","▐","▄"]},e[t[3]]={interval:500,frames:["⊶","⊷"]},e),main=function(){var e=safeArgs("CA","dot","stop"),t=e[0],r=e[1],n=e[2],a=getSpinner(r),u=a.frames.length,f=0;for(PPx.Execute("*execute "+t+",*string i,"+n+"=1");;){if(showSpinner(t,a.frames[f]),PPx.Sleep(a.interval),""===PPx.Extract("%*extract("+t+",\"%%si'"+n+"'\")")){showSpinner(t," ");break}f=f<u-1?f+1:0}},getSpinner=function(e){var n;return/^[0-3]$/.test(e)&&(e=t[e]),null!=(n=r[e])?n:r.dot},showSpinner=function(e,t){var r=0===e.indexOf("C")?'!"':"";PPx.Execute("*execute "+e+", *linemessage "+r+t)};main();
