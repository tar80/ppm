var isEmptyStr=function(e){return""===e},isNonZero=function(e){return"string"==typeof e?!isEmptyStr(e)&&"0"!==e:0!==e},pathSelf=function(){var e,t,r=PPx.ScriptName;return~r.indexOf("\\")?(e=r.replace(/^.*\\/,""),t=PPx.Extract("%*name(DKN,"+r+")")):(e=r,t=PPx.Extract("%FDN")),{scriptName:e,parentDir:t.replace(/\\$/,"")}},validArgs=function(){for(var e=[],t=PPx.Arguments;!t.atEnd();t.moveNext())e.push(t.value);return e},safeArgs=function(){for(var e=[],t=validArgs(),r=0,n=arguments.length;r<n;r++)e.push(_valueConverter(r<0||arguments.length<=r?undefined:arguments[r],t[r]));return e},_valueConverter=function(e,t){if(null==t||""===t)return null!=e?e:undefined;switch(typeof e){case"number":var r=Number(t);return isNaN(r)?e:r;case"boolean":return"false"!==t&&"0"!==t&&null!=t;default:return t}},main=function(){var e=safeArgs("","0",""),t=e[0],r=e[1],n=e[2];if(isEmptyStr(t)||t.split(")").length<3){var a=pathSelf(),u=a.scriptName,i=a.parentDir;PPx.Execute('*script "'+i+'\\errors.js",arg,'+u),PPx.Quit(-1)}"1"===n&&(PPx.StayMode=2),ppx_resume(t,r)},ppx_resume=function(e,t){var r=PPx.Extract("%*edittext()"),n=isNonZero(t)?selectMulti(r,e):selectSingle(r,e);n&&n.w!==n.l&&PPx.Execute("*sendmessage %N,177,"+n.w+","+n.l)},selectSingle=function(e,t){var r=RegExp(t),n=e.match(r);if(n){var a=n[1].length;return{w:a,l:a+n[2].length}}},selectMulti=function(e,t){var r=Number(PPx.Extract("%*editprop(start)")),n=e.slice(0,r),a=e.slice(r),u=RegExp(t.slice(0,t.lastIndexOf(")")+1),"m"),i=RegExp(t.slice(t.lastIndexOf("(")),"m"),c=!1,l=n.replace(u,(function(e,t){return c=!0,t})).length;return{w:c||l!==r?l:0,l:r+a.replace(i,"$1").length}};main();
