var isEmptyStr=function(e){return""===e},isZero=function(e){return"string"==typeof e?"0"===e:0===e},pathSelf=function(){var e,r,t=PPx.ScriptName;return~t.indexOf("\\")?(e=t.replace(/^.*\\/,""),r=PPx.Extract("%*name(DKN,"+t+")")):(e=t,r=PPx.Extract("%FDN")),{scriptName:e,parentDir:r.replace(/\\$/,"")}},validArgs=function(){for(var e=[],r=PPx.Arguments;!r.atEnd();r.moveNext())e.push(r.value);return e},safeArgs=function(){for(var e=[],r=validArgs(),t=0,n=arguments.length;t<n;t++)e.push(_valueConverter(t<0||arguments.length<=t?undefined:arguments[t],r[t]));return e},_valueConverter=function(e,r){if(null==r||""===r)return null!=e?e:undefined;switch(typeof e){case"number":var t=Number(r);return isNaN(t)?e:t;case"boolean":return"false"!==r&&"0"!==r&&null!=r;default:return r}},main=function(){var e=safeArgs("","0"),r=e[0],t=e[1];if(isEmptyStr(r)||r.split(")").length<3){var n=pathSelf(),a=n.scriptName,u=n.parentDir;PPx.Execute('*script "'+u+'\\errors.js",arg,'+a),PPx.Quit(-1)}var i=PPx.Extract("%*edittext()"),c=isZero(t)?selectSingle(i,r):selectMulti(i,r);c&&c.w!==c.l&&PPx.Execute("*sendmessage %N,177,"+c.w+","+c.l)},selectSingle=function(e,r){var t=RegExp(r),n=e.match(t);if(n){var a=n[1].length;return{w:a,l:a+n[2].length}}},selectMulti=function(e,r){var t=Number(PPx.Extract("%*editprop(start)")),n=e.slice(0,t),a=e.slice(t),u=RegExp(r.slice(0,r.lastIndexOf(")")+1),"m"),i=RegExp(r.slice(r.lastIndexOf("(")),"m"),c=!1,l=n.replace(u,(function(e,r){return c=!0,r})).length;return{w:c||l!==t?l:0,l:t+a.replace(i,"$1").length}};main();
